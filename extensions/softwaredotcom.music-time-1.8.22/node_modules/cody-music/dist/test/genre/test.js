"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const util_1 = require("../util");
const expect = require("chai").expect;
const CodyMusic = require("../../dist/index.js");
const testUtil = new util_1.TestUtil();
describe("genre tests", () => {
    before(done => {
        let configFile = __dirname + "/../config.json";
        let data = testUtil.getJsonFromFile(configFile);
        CodyMusic.setCredentials({
            refreshToken: data.refreshToken,
            clientSecret: data.clientSecret,
            clientId: data.clientId,
            accessToken: data.accessToken,
            debug: true
        });
        done();
    });
    it("Fetch genre from itunes using artist and song", done => {
        CodyMusic.getGenre("Hozier", "Movement - Single").then((result) => {
            expect(result).to.not.equal("");
            done();
        });
    });
    it("Fetch genre from itunes using artist", done => {
        CodyMusic.getGenre("Hozier").then((result) => {
            expect(result).to.not.equal("");
            done();
        });
    });
    it("Fetch highest frequency genre", done => {
        // song: Lemonworld
        // artist: The National
        // genre: chamber pop folk-pop indie folk indie pop indie rock modern rock stomp and holler
        CodyMusic.getSpotifyGenre("The National").then((result) => {
            console.log("GENRE: ", result);
            expect(result).to.not.equal("");
            done();
        });
    });
    it("Fetch highest frequency genre part 2", done => {
        // song: Soliloquy
        // artist: Isaiah Rashad
        // genre: chamber pop folk-pop indie folk indie pop indie rock modern rock stomp and holler
        CodyMusic.getSpotifyGenre("Isaiah Rashad").then((result) => {
            console.log("GENRE: ", result);
            expect(result).to.not.equal("");
            done();
        });
    });
    it("Fetch Spotify Artist", done => {
        // song: Soliloquy
        // artist: Isaiah Rashad
        // genre: chamber pop folk-pop indie folk indie pop indie rock modern rock stomp and holler
        CodyMusic.getSpotifyGenre("Kamiyada+").then((result) => {
            console.log("GENRE: ", result);
            expect(result).to.not.equal("");
            done();
        });
    });
    it("Fetch Spotify Artist By ID", done => {
        // song: Soliloquy
        // artist: Isaiah Rashad
        // genre: chamber pop folk-pop indie folk indie pop indie rock modern rock stomp and holler
        CodyMusic.getSpotifyGenreByArtistId("spotify:artist:0m34JtkojthW5WYugFm0e3").then((result) => {
            console.log("GENRE: ", result);
            expect(result).to.not.equal("");
            done();
        });
    });
});
