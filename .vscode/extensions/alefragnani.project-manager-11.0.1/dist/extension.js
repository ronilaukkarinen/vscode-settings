module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(o,s,function(t){return e[t]}.bind(null,s));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(13),i=r(1),n=r(0);t.homeDir=s.homedir(),t.homePathVariable="$home";let a="";class c{static setExtensionContext(e){if(e.globalStoragePath){a=e.globalStoragePath;const t=i.resolve(a,"..");o.existsSync(t)||o.mkdirSync(t),o.existsSync(a)||o.mkdirSync(a)}}static pathIsUNC(e){return 0===e.indexOf("\\\\")}static compactHomePath(e){return 0===e.indexOf(t.homeDir)?e.replace(t.homeDir,t.homePathVariable):e}static expandHomePath(e){return 0===e.indexOf(t.homePathVariable)?e.replace(t.homePathVariable,t.homeDir):e}static expandHomePaths(e){return e.map(e=>(e.description=this.expandHomePath(e.description),e))}static updateWithPathSeparator(e){const t=[];for(const r of e)t.push(this.updateWithPathSeparatorStr(r));return t}static updateWithPathSeparatorStr(e){return"\\"===i.sep?e.replace(/\//g,"\\"):e.replace(/\\/g,"/")}static normalizePath(e){let t=e;if(!c.pathIsUNC(t)){const e=t.split("\\");t=e.join("\\\\")}return t}static indicateInvalidPaths(e){for(const t of e)t.detail||o.existsSync(t.description.toString())||(t.detail="$(circle-slash) Path does not exist");return e}static getChannelPath(){return process.env.VSCODE_PORTABLE?"user-data":n.env.appName.replace("Visual Studio ","")}static getFilePathFromAppData(e){let r;const s=this.getChannelPath();let n;return process.env.VSCODE_PORTABLE?(r=process.env.VSCODE_PORTABLE,n=i.join(r,s,"User",e)):(r=process.env.APPDATA||("darwin"===process.platform?process.env.HOME+"/Library/Application Support":"/var/local"),n=i.join(r,s,"User",e),"linux"!==process.platform||o.existsSync(n)||(n=i.join(t.homeDir,".config/",s,"User",e))),""!==a&&(o.existsSync(n)||(n=i.join(a,e))),n}}t.PathUtils=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.REMOTE_PREFIX="vscode-remote",t.isWindows="win32"===process.platform,t.isRemotePath=function(e){return e.startsWith(t.REMOTE_PREFIX)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(1),i=r(0),n=r(15),a=r(3);t.CustomRepositoryDetector=class{constructor(e){this.paths=e}isRepoDir(e){return o.existsSync(s.join(e,...this.paths))}decideProjectName(e){return s.basename(e)}};t.CustomProjectLocator=class{constructor(e,t,r,o){this.kind=e,this.displayName=t,this.icon=r,this.repositoryDetector=o,this.dirList=[],this.processDirectory=(e,t)=>{this.repositoryDetector.isRepoDir(e)&&this.addToList(e,this.repositoryDetector.decideProjectName(e))},this.maxDepth=-1,this.ignoredFolders=[],this.useCachedProjects=!0,this.alreadyLocated=!1,this.baseFolders=[],this.refreshConfig()}getPathDepth(e){return e.split(s.sep).length}isMaxDeptReached(e,t){return this.maxDepth>0&&e-t>this.maxDepth}isFolderIgnored(e){return-1!==this.ignoredFolders.indexOf(e)}isAlreadyLocated(){return this.useCachedProjects&&this.alreadyLocated}setAlreadyLocated(e){if(this.useCachedProjects&&(this.alreadyLocated=e,this.alreadyLocated)){const e=this.getCacheFile();o.writeFileSync(e,JSON.stringify(this.dirList,null,"\t"),{encoding:"utf8"})}}clearDirList(){this.dirList=[]}initializeCfg(e){if(this.useCachedProjects){const e=this.getCacheFile();o.existsSync(e)&&(this.dirList=JSON.parse(o.readFileSync(e,"utf8")),this.setAlreadyLocated(!0))}else this.clearDirList()}locateProjects(){let e=this.baseFolders;return e=a.PathUtils.updateWithPathSeparator(e),this.baseFolders=e.slice(),new Promise((t,r)=>{if(0===e.length)return void t([]);if(this.initializeCfg(this.kind),this.isAlreadyLocated())return void t(this.dirList);const c=[];this.clearDirList(),e.forEach(e=>{const t=a.PathUtils.expandHomePath(e);if(!o.existsSync(t))return;const r=this.getPathDepth(t),i=new Promise((e,o)=>{try{n(t).filterDir((e,t)=>!(this.isFolderIgnored(s.basename(e))||this.isMaxDeptReached(this.getPathDepth(e),r))).on("dir",this.processDirectory).on("error",this.handleError).on("end",()=>{e()})}catch(e){o(e)}});c.push(i)}),Promise.all(c).then(()=>{this.setAlreadyLocated(!0),t(this.dirList)}).catch(e=>{i.window.showErrorMessage("Error while loading projects.")})})}addToList(e,t=null){this.dirList.push({fullPath:e,name:null===t?s.basename(e):t})}handleError(e){console.log("Error walker:",e)}refreshProjects(e){return new Promise((t,r)=>{if(!e&&!this.refreshConfig())return void t(!1);this.clearDirList();const s=this.getCacheFile();o.existsSync(s)&&o.unlinkSync(s),this.setAlreadyLocated(!1),this.locateProjects().then(()=>{t(!0)}).catch(e=>{r(e)})})}existsWithRootPath(e){if(this.initializeCfg(this.kind),!this.isAlreadyLocated())return null;const t=a.PathUtils.compactHomePath(e).toLocaleLowerCase();for(const r of this.dirList)if(r.fullPath.toLocaleLowerCase()===e.toLocaleLowerCase()||r.fullPath.toLocaleLowerCase()===t)return{rootPath:r.fullPath,name:r.name,group:"",paths:[],enabled:!0}}getCacheFile(){return a.PathUtils.getFilePathFromAppData("projects_cache_"+this.kind+".json")}refreshConfig(){const e=i.workspace.getConfiguration("projectManager");let t=!1,r=null;return r=e.get(this.kind+".baseFolders"),this.arraysAreEquals(this.baseFolders,r)||(this.baseFolders=r,t=!0),r=e.get(this.kind+".ignoredFolders",[]),this.arraysAreEquals(this.ignoredFolders,r)||(this.ignoredFolders=r,t=!0),r=e.get(this.kind+".maxDepthRecursion",-1),this.maxDepth!==r&&(this.maxDepth=r,t=!0),r=e.get("cacheProjectsBetweenSessions",!0),this.useCachedProjects!==r&&(this.useCachedProjects=r,t=!0),t}arraysAreEquals(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let r=0,o=e.length;r<o;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!e[r].equals(t[r]))return!1}else if(e[r]!==t[r])return!1;return!0}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(3),i=r(4);class n{constructor(e,t){this.name=e,this.rootPath=t,this.paths=[],this.group="",this.enabled=!0}}t.ProjectStorage=class{constructor(e){this.filename=e,this.projectList=[]}push(e,t,r){this.projectList.push(new n(e,t))}pop(e){for(let t=0;t<this.projectList.length;t++){if(this.projectList[t].name.toLowerCase()===e.toLowerCase())return this.projectList.splice(t,1)[0]}}rename(e,t){for(const r of this.projectList)if(r.name.toLowerCase()===e.toLowerCase())return void(r.name=t)}toggleEnabled(e){for(const t of this.projectList)if(t.name.toLowerCase()===e.toLowerCase())return t.enabled=!t.enabled,t.enabled}addPath(e,t){for(const r of this.projectList)r.name.toLowerCase()===e.toLowerCase()&&r.paths.push(t)}updateRootPath(e,t){for(const r of this.projectList)r.name.toLowerCase()===e.toLowerCase()&&(r.rootPath=t)}removePath(e,t){for(const r of this.projectList)if(r.name.toLowerCase()===e.toLowerCase())for(let e=0;e<r.paths.length;e++){if(r.paths[e].toLowerCase()===t.toLowerCase())return void r.paths.splice(e,1)}}exists(e){let t=!1;for(const r of this.projectList)r.name.toLocaleLowerCase()===e.toLocaleLowerCase()&&(t=!0);return t}existsWithRootPath(e){const t=s.PathUtils.compactHomePath(e).toLocaleLowerCase();for(const r of this.projectList)if(r.rootPath.toLocaleLowerCase()===e.toLocaleLowerCase()||r.rootPath.toLocaleLowerCase()===t)return r}length(){return this.projectList.length}load(){let e=[];if(!o.existsSync(this.filename))return this.projectList=e,"";try{if(e=JSON.parse(o.readFileSync(this.filename).toString()),e.length>0&&e[0].label){for(const t of e)this.projectList.push(new n(t.label,t.description));this.save()}else this.projectList=e.map(e=>Object.assign({name:"",rootPath:"",paths:[],group:"",enabled:!0},e));return this.updatePaths(),""}catch(e){return console.log(e),e.toString()}}reload(){let e=[];o.existsSync(this.filename)?(e=JSON.parse(o.readFileSync(this.filename).toString()),this.projectList=e):this.projectList=e}save(){o.writeFileSync(this.filename,JSON.stringify(this.projectList,null,"\t"))}map(){return this.projectList.filter(e=>e.enabled).map(e=>({label:e.name,description:e.rootPath}))}updatePaths(){for(const e of this.projectList)i.isRemotePath(e.rootPath)||(e.rootPath=s.PathUtils.updateWithPathSeparatorStr(e.rootPath))}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});t.Container=class{static get context(){return this._extContext}static set context(e){this._extContext=e}}},function(e,t){var r;t=e.exports=H,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],i=t.src=[],n=0,a=n++;i[a]="0|[1-9]\\d*";var c=n++;i[c]="[0-9]+";var h=n++;i[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=n++;i[l]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var p=n++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var u=n++;i[u]="(?:"+i[a]+"|"+i[h]+")";var d=n++;i[d]="(?:"+i[c]+"|"+i[h]+")";var m=n++;i[m]="(?:-("+i[u]+"(?:\\."+i[u]+")*))";var f=n++;i[f]="(?:-?("+i[d]+"(?:\\."+i[d]+")*))";var g=n++;i[g]="[0-9A-Za-z-]+";var w=n++;i[w]="(?:\\+("+i[g]+"(?:\\."+i[g]+")*))";var v=n++,P="v?"+i[l]+i[m]+"?"+i[w]+"?";i[v]="^"+P+"$";var j="[v=\\s]*"+i[p]+i[f]+"?"+i[w]+"?",y=n++;i[y]="^"+j+"$";var C=n++;i[C]="((?:<|>)?=?)";var S=n++;i[S]=i[c]+"|x|X|\\*";var b=n++;i[b]=i[a]+"|x|X|\\*";var L=n++;i[L]="[v=\\s]*("+i[b]+")(?:\\.("+i[b]+")(?:\\.("+i[b]+")(?:"+i[m]+")?"+i[w]+"?)?)?";var k=n++;i[k]="[v=\\s]*("+i[S]+")(?:\\.("+i[S]+")(?:\\.("+i[S]+")(?:"+i[f]+")?"+i[w]+"?)?)?";var x=n++;i[x]="^"+i[C]+"\\s*"+i[L]+"$";var I=n++;i[I]="^"+i[C]+"\\s*"+i[k]+"$";var E=n++;i[E]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=n++;i[N]="(?:~>?)";var M=n++;i[M]="(\\s*)"+i[N]+"\\s+",s[M]=new RegExp(i[M],"g");var O=n++;i[O]="^"+i[N]+i[L]+"$";var _=n++;i[_]="^"+i[N]+i[k]+"$";var F=n++;i[F]="(?:\\^)";var D=n++;i[D]="(\\s*)"+i[F]+"\\s+",s[D]=new RegExp(i[D],"g");var R=n++;i[R]="^"+i[F]+i[L]+"$";var T=n++;i[T]="^"+i[F]+i[k]+"$";var $=n++;i[$]="^"+i[C]+"\\s*("+j+")$|^$";var V=n++;i[V]="^"+i[C]+"\\s*("+P+")$|^$";var W=n++;i[W]="(\\s*)"+i[C]+"\\s*("+j+"|"+i[L]+")",s[W]=new RegExp(i[W],"g");var A=n++;i[A]="^\\s*("+i[L]+")\\s+-\\s+("+i[L]+")\\s*$";var U=n++;i[U]="^\\s*("+i[k]+")\\s+-\\s+("+i[k]+")\\s*$";var B=n++;i[B]="(<|>)?=?\\s*\\*";for(var K=0;K<35;K++)r(K,i[K]),s[K]||(s[K]=new RegExp(i[K]));function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof H)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?s[y]:s[v]).test(e))return null;try{return new H(e,t)}catch(e){return null}}function H(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof H){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof H))return new H(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?s[y]:s[v]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=G,t.valid=function(e,t){var r=G(e,t);return r?r.version:null},t.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=H,H.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},H.prototype.toString=function(){return this.version},H.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof H||(e=new H(e,this.options)),this.compareMain(e)||this.comparePre(e)},H.prototype.compareMain=function(e){return e instanceof H||(e=new H(e,this.options)),q(this.major,e.major)||q(this.minor,e.minor)||q(this.patch,e.patch)},H.prototype.comparePre=function(e){if(e instanceof H||(e=new H(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var o=this.prerelease[t],s=e.prerelease[t];if(r("prerelease compare",t,o,s),void 0===o&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===o)return-1;if(o!==s)return q(o,s)}while(++t)},H.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,o){"string"==typeof r&&(o=r,r=void 0);try{return new H(e,r).inc(t,o).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=G(e),o=G(t);if(r.prerelease.length||o.prerelease.length){for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==o[s])return"pre"+s;return"prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==o[s])return s},t.compareIdentifiers=q;var J=/^[0-9]+$/;function q(e,t){var r=J.test(e),o=J.test(t);return r&&o&&(e=+e,t=+t),r&&!o?-1:o&&!r?1:e<t?-1:e>t?1:0}function X(e,t,r){return new H(e,r).compare(new H(t,r))}function z(e,t,r){return X(e,t,r)>0}function Y(e,t,r){return X(e,t,r)<0}function Z(e,t,r){return 0===X(e,t,r)}function Q(e,t,r){return 0!==X(e,t,r)}function ee(e,t,r){return X(e,t,r)>=0}function te(e,t,r){return X(e,t,r)<=0}function re(e,t,r,o){var s;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),s=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),s=e!==r;break;case"":case"=":case"==":s=Z(e,r,o);break;case"!=":s=Q(e,r,o);break;case">":s=z(e,r,o);break;case">=":s=ee(e,r,o);break;case"<":s=Y(e,r,o);break;case"<=":s=te(e,r,o);break;default:throw new TypeError("Invalid operator: "+t)}return s}function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return q(t,e)},t.major=function(e,t){return new H(e,t).major},t.minor=function(e,t){return new H(e,t).minor},t.patch=function(e,t){return new H(e,t).patch},t.compare=X,t.compareLoose=function(e,t){return X(e,t,!0)},t.rcompare=function(e,t,r){return X(t,e,r)},t.sort=function(e,r){return e.sort((function(e,o){return t.compare(e,o,r)}))},t.rsort=function(e,r){return e.sort((function(e,o){return t.rcompare(e,o,r)}))},t.gt=z,t.lt=Y,t.eq=Z,t.neq=Q,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=oe;var se={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof oe)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ne(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,o,s,i,n,a,c,h,l,p,u){return((t=ne(r)?"":ne(o)?">="+r+".0.0":ne(s)?">="+r+"."+o+".0":">="+t)+" "+(a=ne(c)?"":ne(h)?"<"+(+c+1)+".0.0":ne(l)?"<"+c+"."+(+h+1)+".0":p?"<="+c+"."+h+"."+l+"-"+p:"<="+a)).trim()}function ce(e,t,o){for(var s=0;s<e.length;s++)if(!e[s].test(t))return!1;if(o||(o={}),t.prerelease.length&&!o.includePrerelease){for(s=0;s<e.length;s++)if(r(e[s].semver),e[s].semver!==se&&e[s].semver.prerelease.length>0){var i=e[s].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function he(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,o){var s,i,n,a,c;switch(e=new H(e,o),t=new ie(t,o),r){case">":s=z,i=te,n=Y,a=">",c=">=";break;case"<":s=Y,i=ee,n=z,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(he(e,t,o))return!1;for(var h=0;h<t.set.length;++h){var l=t.set[h],p=null,u=null;if(l.forEach((function(e){e.semver===se&&(e=new oe(">=0.0.0")),p=p||e,u=u||e,s(e.semver,p.semver,o)?p=e:n(e.semver,u.semver,o)&&(u=e)})),p.operator===a||p.operator===c)return!1;if((!u.operator||u.operator===a)&&i(e,u.semver))return!1;if(u.operator===c&&n(e,u.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?s[$]:s[V],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new H(r[2],this.options.loose):this.semver=se},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===se||("string"==typeof e&&(e=new H(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),he(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),he(e.semver,r,t);var o=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),s=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,n=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return o||s||i&&n||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var o=t?s[U]:s[A];e=e.replace(o,ae),r("hyphen replace",e),e=e.replace(s[W],"$1$2$3"),r("comparator trim",e,s[W]),e=(e=(e=e.replace(s[M],"$1~")).replace(s[D],"$1^")).split(/\s+/).join(" ");var i=t?s[$]:s[V],n=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var o=t.loose?s[T]:s[R];return e.replace(o,(function(t,o,s,i,n){var a;return r("caret",e,t,o,s,i,n),ne(o)?a="":ne(s)?a=">="+o+".0.0 <"+(+o+1)+".0.0":ne(i)?a="0"===o?">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0":">="+o+"."+s+".0 <"+(+o+1)+".0.0":n?(r("replaceCaret pr",n),"-"!==n.charAt(0)&&(n="-"+n),a="0"===o?"0"===s?">="+o+"."+s+"."+i+n+" <"+o+"."+s+"."+(+i+1):">="+o+"."+s+"."+i+n+" <"+o+"."+(+s+1)+".0":">="+o+"."+s+"."+i+n+" <"+(+o+1)+".0.0"):(r("no pr"),a="0"===o?"0"===s?">="+o+"."+s+"."+i+" <"+o+"."+s+"."+(+i+1):">="+o+"."+s+"."+i+" <"+o+"."+(+s+1)+".0":">="+o+"."+s+"."+i+" <"+(+o+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var o=t.loose?s[_]:s[O];return e.replace(o,(function(t,o,s,i,n){var a;return r("tilde",e,t,o,s,i,n),ne(o)?a="":ne(s)?a=">="+o+".0.0 <"+(+o+1)+".0.0":ne(i)?a=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0":n?(r("replaceTilde pr",n),"-"!==n.charAt(0)&&(n="-"+n),a=">="+o+"."+s+"."+i+n+" <"+o+"."+(+s+1)+".0"):a=">="+o+"."+s+"."+i+" <"+o+"."+(+s+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var o=t.loose?s[I]:s[x];return e.replace(o,(function(t,o,s,i,n,a){r("xRange",e,t,o,s,i,n,a);var c=ne(s),h=c||ne(i),l=h||ne(n);return"="===o&&l&&(o=""),c?t=">"===o||"<"===o?"<0.0.0":"*":o&&l?(h&&(i=0),l&&(n=0),">"===o?(o=">=",h?(s=+s+1,i=0,n=0):l&&(i=+i+1,n=0)):"<="===o&&(o="<",h?s=+s+1:i=+i+1),t=o+s+"."+i+"."+n):h?t=">="+s+".0.0 <"+(+s+1)+".0.0":l&&(t=">="+s+"."+i+".0 <"+s+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[B],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter((function(e){return!!e.match(i)}))),n=n.map((function(e){return new oe(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new H(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=he,t.maxSatisfying=function(e,t,r){var o=null,s=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(o&&-1!==s.compare(e)||(s=new H(o=e,r)))})),o},t.minSatisfying=function(e,t,r){var o=null,s=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(o&&1!==s.compare(e)||(s=new H(o=e,r)))})),o},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof H)return e;if("string"!=typeof e)return null;var t=e.match(s[E]);return null==t?null:G((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NEW="NEW",e.CHANGED="CHANGED",e.FIXED="FIXED",e.VERSION="VERSION",e.INTERNAL="INTERNAL"}(t.ChangeLogKind||(t.ChangeLogKind={})),function(e){e.Issue="Issue",e.PR="PR"}(t.IssueKind||(t.IssueKind={}))},function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(2),i=r(1),n=r(0),a=r(11),c=r(12),h=r(6),l=r(3),p=r(21),u=r(23),d=r(24),m=r(25),f=r(4),g=r(26),w=r(7),v=r(27);t.activate=function(e){w.Container.context=e,l.PathUtils.setExtensionContext(e);const t=e.globalState.get("recent",""),r=new a.StringStack;r.fromString(t);const P=new h.ProjectStorage(I()),j=new c.Locators(r),y=new p.Providers(e,j,P);j.setProviderManager(y),v.registerWhatsNew(),e.subscriptions.push(n.commands.registerCommand("projectManager.hideGitWelcome",()=>{e.globalState.update("hideGitWelcome",!0),y.showTreeViewFromAllProviders(),n.commands.executeCommand("setContext","projectManager.hiddenGitWelcome",!0)})),e.subscriptions.push(n.commands.registerCommand("projectManager.showGitWelcome",()=>{e.globalState.update("hideGitWelcome",!1),y.showTreeViewFromAllProviders(),n.commands.executeCommand("setContext","projectManager.hiddenGitWelcome",!1)}));const C=e.globalState.get("hideGitWelcome",!1);function S(e,t){n.window.withProgress({location:n.ProgressLocation.Notification,title:"Refreshing Projects",cancellable:!1},r=>o(this,void 0,void 0,(function*(){r.report({message:"VSCode"});const o=yield j.vscLocator.refreshProjects(t);r.report({message:"Git"});const s=yield j.gitLocator.refreshProjects(t);r.report({message:"Mercurial"});const i=yield j.mercurialLocator.refreshProjects(t);r.report({message:"SVN"});const a=yield j.svnLocator.refreshProjects(t);r.report({message:"Any"});const c=yield j.anyLocator.refreshProjects(t);(o||s||i||a||c||t)&&(r.report({message:"Activity Bar"}),(o||t)&&y.projectProviderVSCode.refresh(),(s||t)&&y.projectProviderGit.refresh(),(i||t)&&y.projectProviderMercurial.refresh(),(a||t)&&y.projectProviderSVN.refresh(),(c||t)&&y.projectProviderAny.refresh(),y.showTreeViewFromAllProviders()),e&&n.window.showInformationMessage("The projects have been refreshed!")})))}function b(t){let o,s;if(t)o=t.label,s=t.command.arguments[0];else{const e=d.Suggestion.getProjectDetails();if(!e)return;s=e.path,o=e.name}const i={prompt:"Project Name",placeHolder:"Type a name for your project",value:o};n.window.showInputBox(i).then(o=>{if(void 0!==o)if(""!==o)if(P.exists(o)){const i={title:"Update"},a={title:"Cancel"};n.window.showInformationMessage("Project already exists!",i,a).then(i=>{if(void 0!==i)return"Update"===i.title?(r.push(o),e.globalState.update("recent",r.toString()),P.updateRootPath(o,s),P.save(),n.window.showInformationMessage("Project saved!"),void(t||u.showStatusBar(P,j,o))):void 0})}else r.push(o),e.globalState.update("recent",r.toString()),P.push(o,s,""),P.save(),n.window.showInformationMessage("Project saved!"),t||u.showStatusBar(P,j,o);else n.window.showWarningMessage("You must define a name for the project.")})}function L(t){return o(this,void 0,void 0,(function*(){const o=yield N(M);if(o){r.push(o.name),e.globalState.update("recent",r.toString());const s=k(t,m.CommandLocation.CommandPalette),i=g.buildProjectUri(o.rootPath);n.commands.executeCommand("vscode.openFolder",i,s).then(e=>({}),e=>n.window.showInformationMessage("Could not open the project!"))}else;}))}function k(e,t){if(!e)return!1;if(n.workspace.workspaceFolders||n.window.activeTextEditor)return e;const r=n.workspace.getConfiguration("projectManager").get("openInCurrenWindowIfEmpty");if(r===m.OpenInCurrentWindowIfEmptyMode.always)return!1;if(r===m.OpenInCurrentWindowIfEmptyMode.never)return e;switch(r){case m.OpenInCurrentWindowIfEmptyMode.always:return!1;case m.OpenInCurrentWindowIfEmptyMode.never:return e;case m.OpenInCurrentWindowIfEmptyMode.onlyUsingCommandPalette:return t!==m.CommandLocation.CommandPalette;case m.OpenInCurrentWindowIfEmptyMode.onlyUsingSideBar:return t!==m.CommandLocation.SideBar}}function x(){const e=P.load();if(""!==e){const t={title:"Open File"};return n.window.showErrorMessage("Error loading projects.json file. Message: "+e,t).then(e=>{void 0!==e&&"Open File"===e.title&&n.commands.executeCommand("projectManager.editProjects")}),null}}function I(){let e;const t=n.workspace.getConfiguration("projectManager").get("projectsLocation");return e=""!==t?i.join(t,m.PROJECTS_FILE):l.PathUtils.getFilePathFromAppData(m.PROJECTS_FILE),e}function E(e){".code-workspace"!==i.extname(e)?n.workspace.updateWorkspaceFolders(n.workspace.workspaceFolders?n.workspace.workspaceFolders.length:0,null,{uri:n.Uri.file(e)}):n.window.showWarningMessage("You can't add a Workspace to another Workspace.")}function N(e){let t=[];return t=P.map(),t=j.sortGroupedList(t),new Promise((r,o)=>{const i={matchOnDescription:n.workspace.getConfiguration("projectManager").get("filterOnFullPath",!1),matchOnDetail:!1,placeHolder:"Loading Projects (pick one...)"};var a;(a=t,new Promise((e,t)=>{e(a)})).then(e=>j.getLocatorProjects(e,j.vscLocator)).then(e=>j.getLocatorProjects(e,j.gitLocator)).then(e=>j.getLocatorProjects(e,j.mercurialLocator)).then(e=>j.getLocatorProjects(e,j.svnLocator)).then(e=>j.getLocatorProjects(e,j.anyLocator)).then(t=>{if(0===t.length)return n.window.showInformationMessage("No projects saved yet!"),r(void 0);n.workspace.getConfiguration("projectManager").get("groupList",!1)||(t=j.sortProjectList(t)),n.commands.executeCommand("setContext","inProjectManagerList",!0),n.window.showQuickPick(t,i).then(t=>(n.commands.executeCommand("setContext","inProjectManagerList",!1),t?f.isRemotePath(t.description)||s.existsSync(t.description.toString())?r({name:t.label,rootPath:l.PathUtils.normalizePath(t.description)}):"$("===t.label.substr(0,2)?(n.window.showErrorMessage("Path does not exist or is unavailable."),r(void 0)):void(e&&e(t.label,t.description)):r(void 0)),e=>(n.commands.executeCommand("setContext","inProjectManagerList",!1),r(void 0)))})})}function M(e,t){n.window.showErrorMessage("The project has an invalid path. What would you like to do?",{title:"Update Project"},{title:"Delete Project"}).then(t=>{if(void 0!==t)return"Update Project"!==t.title?(P.pop(e),void P.save()):void n.commands.executeCommand("projectManager.editProjects")})}function O(e){return o(this,void 0,void 0,(function*(){if(e)return void E(e.command.arguments[0]);const t=yield N(M);t&&E(t.rootPath)}))}n.commands.executeCommand("setContext","projectManager.hiddenGitWelcome",C),n.commands.registerCommand("projectManager.open",e=>{const t="string"==typeof e?g.buildProjectUri(e):g.buildProjectUri(e.command.arguments[0]);n.commands.executeCommand("vscode.openFolder",t,!1).then(e=>({}),e=>n.window.showInformationMessage("Could not open the project!"))}),n.commands.registerCommand("projectManager.openInNewWindow",e=>{const t=g.buildProjectUri(e.command.arguments[0]),r=k(!0,m.CommandLocation.SideBar);n.commands.executeCommand("vscode.openFolder",t,r).then(e=>({}),e=>n.window.showInformationMessage("Could not open the project!"))}),n.commands.registerCommand("projectManager.saveProject",()=>b()),n.commands.registerCommand("projectManager.refreshProjects",()=>S(!0,!0)),j.registerCommands(),n.commands.registerCommand("projectManager.editProjects",()=>function(){if(s.existsSync(I()))n.workspace.openTextDocument(I()).then(e=>{n.window.showTextDocument(e)});else{const e={title:"Yes, edit manually"};n.window.showErrorMessage("No projects saved yet! You should open a folder and use Save Project instead. Do you really want to edit manually? ",e).then(e=>{void 0!==e&&"Yes, edit manually"===e.title&&(P.push("Project Name","Root Path",""),P.save(),n.commands.executeCommand("projectManager.editProjects"))})}}()),n.commands.registerCommand("projectManager.listProjects",()=>L(!1)),n.commands.registerCommand("projectManager.listProjectsNewWindow",()=>L(!0)),n.commands.registerCommand("projectManager.addToWorkspace#sideBar",e=>O(e)),n.commands.registerCommand("projectManager.addToWorkspace",()=>O(void 0)),n.commands.registerCommand("projectManager.deleteProject",e=>function(e){r.pop(e.command.arguments[1]),P.pop(e.command.arguments[1]),P.save(),n.window.showInformationMessage("Project successfully deleted!")}(e)),n.commands.registerCommand("projectManager.renameProject",e=>function(e){const t=e.command.arguments[1],o={prompt:"New Project Name",placeHolder:"Type a new name for the project",value:t};n.window.showInputBox(o).then(o=>{void 0!==o&&(""!==o?P.exists(o)?n.window.showErrorMessage("Project already exists!"):(r.rename(t,o),P.rename(t,o),P.save(),n.window.showInformationMessage("Project renamed!"),u.updateStatusBar(t,e.command.arguments[0],o)):n.window.showWarningMessage("You must define a new name for the project."))})}(e)),n.commands.registerCommand("projectManager.addToFavorites",e=>b(e)),n.commands.registerCommand("projectManager.toggleProjectEnabled",e=>function e(t,r=!0){const o=t.command.arguments[1],s=P.toggleEnabled(o);if(void 0===s)return;if(P.save(),!r)return;s?n.window.showInformationMessage(`Project "${o}" enabled.`,"Undo").then(r=>{r&&e(t,!1)}):n.window.showInformationMessage(`Project "${o}" disabled.`,"Undo").then(r=>{r&&e(t,!1)})}(e)),x(),y.showTreeViewFromAllProviders(),s.watchFile(I(),{interval:100},(e,t)=>{x(),y.projectProviderStorage.refresh()}),e.subscriptions.push(n.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("projectManager.git")||e.affectsConfiguration("projectManager.hg")||e.affectsConfiguration("projectManager.vscode")||e.affectsConfiguration("projectManager.svn")||e.affectsConfiguration("projectManager.any")||e.affectsConfiguration("projectManager.cacheProjectsBetweenSessions"))&&S()})),u.showStatusBar(P,j)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});t.StringStack=class{constructor(){this.stack=[]}fromString(e){""!==e&&(this.stack=JSON.parse(e))}toString(){return JSON.stringify(this.stack)}push(e){const t=this.stack.indexOf(e);t>-1&&this.stack.splice(t,1),this.stack.push(e)}pop(e){if(!e)return this.stack.pop();for(let t=0;t<this.stack.length;t++){if(this.stack[t]===e)return this.stack.splice(t,1)[0]}}rename(e,t){for(let r of this.stack)r===e&&(r=t)}length(){return this.stack.length}getItem(e){return e<0?"":0===this.stack.length?"":this.stack[e]}}},function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),i=r(3),n=r(14),a=r(5),c=r(20);t.VSCODE_ICON="$(file-code)",t.GIT_ICON="$(git-branch)",t.MERCURIAL_ICON="$(git-branch)",t.SVN_ICON="$(zap)",t.ANY_ICON="$(file-directory)";t.Locators=class{constructor(e){this.vscLocator=new a.CustomProjectLocator("vscode","VSCode",t.VSCODE_ICON,new a.CustomRepositoryDetector([".vscode"])),this.gitLocator=new a.CustomProjectLocator("git","Git",t.GIT_ICON,new c.GitRepositoryDetector([".git"])),this.mercurialLocator=new a.CustomProjectLocator("hg","Mercurial",t.MERCURIAL_ICON,new a.CustomRepositoryDetector([".hg","hgrc"])),this.svnLocator=new a.CustomProjectLocator("svn","SVN",t.SVN_ICON,new a.CustomRepositoryDetector([".svn","pristine"])),this.anyLocator=new a.CustomProjectLocator("any","Any",t.ANY_ICON,new a.CustomRepositoryDetector([])),this.aStack=e}registerCommands(){s.commands.registerCommand("projectManager.refreshVSCodeProjects",()=>this.refreshProjectsByType("VSCode",this.vscLocator,this.providerManager.projectProviderVSCode,!0,!0)),s.commands.registerCommand("projectManager.refreshGitProjects",()=>this.refreshProjectsByType("Git",this.gitLocator,this.providerManager.projectProviderGit,!0,!0)),s.commands.registerCommand("projectManager.refreshMercurialProjects",()=>this.refreshProjectsByType("Mercurial",this.mercurialLocator,this.providerManager.projectProviderMercurial,!0,!0)),s.commands.registerCommand("projectManager.refreshSVNProjects",()=>this.refreshProjectsByType("SVN",this.svnLocator,this.providerManager.projectProviderSVN,!0,!0)),s.commands.registerCommand("projectManager.refreshAnyProjects",()=>this.refreshProjectsByType("Any",this.anyLocator,this.providerManager.projectProviderAny,!0,!0))}setProviderManager(e){this.providerManager=e}getLocatorProjects(e,t){return new Promise((r,o)=>{t.locateProjects().then(this.filterKnownDirectories.bind(this,e)).then(o=>{let s=[];s=o.map(e=>({label:t.icon+" "+e.name,description:e.fullPath})),s=this.sortGroupedList(s),r(e.concat(s))})})}sortGroupedList(e){return s.workspace.getConfiguration("projectManager").get("groupList",!1)?this.sortProjectList(e):e}sortProjectList(e){let t=i.PathUtils.expandHomePaths(e);t=this.removeRootPath(t),s.workspace.getConfiguration("projectManager").get("checkInvalidPathsBeforeListing",!0)&&(t=i.PathUtils.indicateInvalidPaths(t));const r=s.workspace.getConfiguration("projectManager").get("sortList","Name");return n.ProjectsSorter.SortItemsByCriteria(t,r,this.aStack)}refreshProjectsByType(e,t,r,i,n){s.window.withProgress({location:s.ProgressLocation.Notification,title:"Refreshing Projects",cancellable:!1},s=>o(this,void 0,void 0,(function*(){s.report({increment:50,message:e}),((yield t.refreshProjects(n))||n)&&(s.report({increment:50,message:e}),r.refresh(),r.showTreeView())}))).then(()=>o(this,void 0,void 0,(function*(){i&&(yield this.delay(1e3),s.window.showInformationMessage(`${e} projects have been refreshed!`))})))}removeRootPath(e){return(s.workspace.workspaceFolders?s.workspace.workspaceFolders[0]:void 0)&&s.workspace.getConfiguration("projectManager").get("removeCurrentProjectFromList")?e.filter(e=>e.description.toString().toLowerCase()!==s.workspace.rootPath.toLowerCase()):e}filterKnownDirectories(e,t){return e&&(t=t.filter(t=>!e.some(e=>i.PathUtils.expandHomePath(e.description).toLowerCase()===i.PathUtils.expandHomePath(t.fullPath).toLowerCase()))),Promise.resolve(t)}delay(e){return o(this,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))}))}}},function(e,t){e.exports=require("os")},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});t.ProjectsSorter=class{static getSortedByName(e){return[]=e.sort((e,t)=>e.label.replace(/\$\(\w*(-)*\w*\)\s/,"").toLowerCase()>t.label.replace(/\$\(\w*(-)*\w*\)\s/,"").toLowerCase()?1:e.label.replace(/\$\(\w*(-)*\w*\)\s/,"").toLowerCase()<t.label.replace(/\$\(\w*(-)*\w*\)\s/,"").toLowerCase()?-1:0)}static getSortedByPath(e){return[]=e.sort((e,t)=>e.description>t.description?1:e.description<t.description?-1:0)}static getSortedByRecent(e,t){if(0===t.length())return e;const r=e;for(let e=0;e<t.length();e++){const o=t.getItem(e);let s=-1;for(let e=0;e<r.length;e++){if(r[e].label===o){s=e;break}}if(s>-1){const e=r.splice(s,1);r.unshift(e[0])}}return r}static SortItemsByCriteria(e,t,r){let o=[];switch(t){case"Path":o=this.getSortedByPath(e);break;case"Saved":o=e;break;case"Recent":o=this.getSortedByRecent(e,r);break;default:o=this.getSortedByName(e)}return o}}},function(e,t,r){e.exports=c;var o=r(1),s=r(2),i=r(16),n=r(17).EventEmitter,a=r(18);function c(e){if(!(this instanceof c))return new c(e);n.call(this),this._pending=0,this._filterDir=function(){return!0},this.go(e)}i.inherits(c,n);var h=c.UnknownFileTypeError=a("UnknownFileTypeError","The type of this file could not be determined.");c.prototype.filterDir=function(e){return this._filterDir=e,this},c.prototype.go=function(e){var t=this;return this._pending++,s.lstat(e,(function(r,i){if(r)return t.emit("error",r,e,i),void t.doneOne();i.isDirectory()?t._filterDir(e,i)?s.readdir(e,(function(r,s){if(r)return t.emit("error",r,e,i),void t.doneOne();t.emit("entry",e,i),t.emit("dir",e,i),s.forEach((function(r){t.go(o.join(e,r))})),t.doneOne()})):t.doneOne():i.isSymbolicLink()?(t.emit("entry",e,i),t.emit("symlink",e,i),t.doneOne()):i.isBlockDevice()?(t.emit("entry",e,i),t.emit("blockDevice",e,i),t.doneOne()):i.isCharacterDevice()?(t.emit("entry",e,i),t.emit("characterDevice",e,i),t.doneOne()):i.isFIFO()?(t.emit("entry",e,i),t.emit("fifo",e,i),t.doneOne()):i.isSocket()?(t.emit("entry",e,i),t.emit("socket",e,i),t.doneOne()):i.isFile()?(t.emit("entry",e,i),t.emit("file",e,i),t.doneOne()):(t.emit("error",h(),e,i),t.doneOne())})),this},c.prototype.doneOne=function(){return 0==--this._pending&&this.emit("end"),this}},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("events")},function(e,t,r){var o=r(19);function s(){}e.exports=function(e,t,r){if(t=o(t||""),(r=r||{}).proto&&!(r.proto instanceof s))throw new Error('The custom "proto" must be an Error created via makeError');var i=function(s,n){if(!(this instanceof i))return new i(s,n);"string"==typeof s||n||(n=s,s=null),this.name=e,this.data=n||r,this.message="string"==typeof s?o(s,this.data):t(this.data);var a=new Error;this.stack=a.stack,this.stack&&("undefined"!=typeof Components?this.stack=this.stack.substring(this.stack.indexOf("\n")+2):"undefined"==typeof chrome&&"undefined"==typeof process||(this.stack=this.stack.replace(/\n[^\n]*/,""),this.stack=this.stack.replace(/\n[^\n]*/,""),this.stack=this.name+(this.message?": "+this.message:"")+this.stack.substring(5))),"fileName"in a&&(this.fileName=a.fileName),"lineNumber"in a&&(this.lineNumber=a.lineNumber)};return i.prototype=r.proto||new s,delete r.proto,i},s.prototype=new Error,s.prototype.toString=function(){return this.message}},function(e,t){var r=/{([\s\S]+?)}/g;e.exports=function(e,t){var o="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(r,(function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"})).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",s=new Function("obj",o);return t?s(t):s}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(1),i=r(5);class n extends i.CustomRepositoryDetector{isRepoDir(e){let t;if(t=o.existsSync(s.join(e,".git","config")),t)return!0;if(t=o.existsSync(s.join(e,".git")),t){let r;try{if(r=o.readFileSync(s.join(e,".git"),"utf8"),t=0===r.indexOf("gitdir: "),t)return!0}catch(e){console.log("Error checking git-worktree: "+e)}}return!1}}t.GitRepositoryDetector=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(22);t.Providers=class{constructor(e,t,r){this.locators=t,this.projectStorage=r,this.projectProviderStorage=new s.ProjectProvider(this.projectStorage,e),this.projectProviderVSCode=new s.ProjectProvider(this.locators.vscLocator,e),this.projectProviderGit=new s.ProjectProvider(this.locators.gitLocator,e),this.projectProviderMercurial=new s.ProjectProvider(this.locators.mercurialLocator,e),this.projectProviderSVN=new s.ProjectProvider(this.locators.svnLocator,e),this.projectProviderAny=new s.ProjectProvider(this.locators.anyLocator,e),o.window.registerTreeDataProvider("projectsExplorerFavorites",this.projectProviderStorage),o.window.registerTreeDataProvider("projectsExplorerVSCode",this.projectProviderVSCode),o.window.registerTreeDataProvider("projectsExplorerGit",this.projectProviderGit),o.window.registerTreeDataProvider("projectsExplorerMercurial",this.projectProviderMercurial),o.window.registerTreeDataProvider("projectsExplorerSVN",this.projectProviderSVN),o.window.registerTreeDataProvider("projectsExplorerAny",this.projectProviderAny)}showTreeViewFromAllProviders(){this.projectProviderStorage.showTreeView(),this.projectProviderVSCode.showTreeView(),this.projectProviderGit.showTreeView(),this.projectProviderMercurial.showTreeView(),this.projectProviderSVN.showTreeView(),this.projectProviderAny.showTreeView()}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),s=r(0),i=r(5),n=r(6),a=r(3),c=r(4);let h;t.NODE_KIND=0,t.NODE_PROJECT=1,function(e){e[e.NODE_KIND=0]="NODE_KIND",e[e.NODE_PROJECT=1]="NODE_PROJECT"}(t.ProjectNodeKind||(t.ProjectNodeKind={}));t.ProjectProvider=class{constructor(e,t){this.internalOnDidChangeTreeData=new s.EventEmitter,this.projectSource=e,this.onDidChangeTreeData=this.internalOnDidChangeTreeData.event,h=t}refresh(){this.internalOnDidChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){return new Promise(t=>{if(e){const r=[];r.push(new l(e.label,s.TreeItemCollapsibleState.None,"git",e.preview,{command:"projectManager.open",title:"",arguments:[e.preview.path]})),t(r)}else{const e=[];if(this.projectSource instanceof n.ProjectStorage){if(0===this.projectSource.length())return t([]);const r=this.projectSource.map();r.sort((e,t)=>e.label.toLowerCase()>t.label.toLowerCase()?1:e.label.toLowerCase()<t.label.toLowerCase()?-1:0);for(let t=0;t<r.length;t++){const i=r[t];let n="favorites";".code-workspace"===o.extname(i.description)?n="favorites-workspace":c.isRemotePath(i.description)&&(n="favorites-remote"),e.push(new l(i.label,s.TreeItemCollapsibleState.None,n,{name:i.label,path:a.PathUtils.expandHomePath(i.description)},{command:"projectManager.open",title:"",arguments:[a.PathUtils.expandHomePath(i.description),i.label]}))}}if(this.projectSource instanceof i.CustomProjectLocator){if(this.projectSource.initializeCfg(this.projectSource.kind),this.projectSource.dirList.length>0){this.projectSource.dirList.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0);for(let t=0;t<this.projectSource.dirList.length;t++){const r=this.projectSource.dirList[t];e.push(new l(r.name,s.TreeItemCollapsibleState.None,this.projectSource.displayName,{name:r.name,path:r.fullPath},{command:"projectManager.open",title:"",arguments:[r.fullPath,this.projectSource.icon+" "+r.name]}))}}}t(e)}})}showTreeView(){if(this.projectSource instanceof i.CustomProjectLocator)if(this.projectSource.initializeCfg(this.projectSource.kind),"Git"===this.projectSource.displayName){const e=h.globalState.get("hideGitWelcome",!1);s.commands.executeCommand("setContext","projectManager.canShowTreeView"+this.projectSource.displayName,this.projectSource.dirList.length>0||!e)}else s.commands.executeCommand("setContext","projectManager.canShowTreeView"+this.projectSource.displayName,this.projectSource.dirList.length>0);else;}};class l extends s.TreeItem{constructor(e,t,r,o,s){super(e,t),this.label=e,this.collapsibleState=t,this.icon=r,this.preview=o,this.command=s,r?(this.iconPath=this.getIconPath(r),this.contextValue="ProjectNodeKind"):this.contextValue="ConfigNodeKind",this.tooltip=o.path}getIconPath(e){return{light:h.asAbsolutePath(this.getProjectIcon(e,"light")),dark:h.asAbsolutePath(this.getProjectIcon(e,"dark"))}}getProjectIcon(e,t){return"images/ico-"+e.toLowerCase()+"-"+t+".svg"}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(0);let s;t.showStatusBar=function(e,t,r){const i=o.workspace.getConfiguration("projectManager").get("showProjectNameInStatusBar"),n=o.workspace.workspaceFile?o.workspace.workspaceFile:o.workspace.workspaceFolders?o.workspace.workspaceFolders[0].uri:void 0,a=n?n.fsPath:void 0;if(!i||!a)return;s||(s=o.window.createStatusBarItem(o.StatusBarAlignment.Left)),s.text="$(file-directory) ",s.tooltip=a;const c=o.workspace.getConfiguration("projectManager").get("openInNewWindowWhenClickingInStatusBar",!1);if(s.command=c?"projectManager.listProjectsNewWindow":"projectManager.listProjects",r)return s.text+=r,void s.show();let h=e.existsWithRootPath(a);h||(h=t.vscLocator.existsWithRootPath(a)),h||(h=t.gitLocator.existsWithRootPath(a)),h||(h=t.mercurialLocator.existsWithRootPath(a)),h||(h=t.svnLocator.existsWithRootPath(a)),h||(h=t.anyLocator.existsWithRootPath(a)),h&&(s.text+=h.name,s.show())},t.updateStatusBar=function(e,t,r){s.text==="$(file-directory) "+e&&s.tooltip===t&&(s.text="$(file-directory) "+r)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(1);t.Suggestion=class{constructor(e){this.context=e}static getProjectDetails(){if(o.workspace.workspaceFile){if("untitled"===o.workspace.workspaceFile.scheme)return o.window.showInformationMessage("Save the workspace first to save a project"),null;if("file"===o.workspace.workspaceFile.scheme)return{path:o.workspace.workspaceFile.fsPath,name:s.basename(o.workspace.workspaceFile.fsPath,".code-workspace")};if("vscode-remote"===o.workspace.workspaceFile.scheme)return{path:`${o.workspace.workspaceFile.scheme}://\n                           ${o.workspace.workspaceFile.authority}\n                           ${o.workspace.workspaceFile.path}`,name:s.basename(o.workspace.workspaceFile.fsPath,".code-workspace")}}return"file"===o.workspace.workspaceFolders[0].uri.scheme?{path:o.workspace.workspaceFolders[0].uri.fsPath,name:s.basename(o.workspace.workspaceFolders[0].uri.fsPath)}:"vscode-remote"===o.workspace.workspaceFolders[0].uri.scheme?{path:`${o.workspace.workspaceFolders[0].uri.scheme}://${o.workspace.workspaceFolders[0].uri.authority}${o.workspace.workspaceFolders[0].uri.path}`,name:s.basename(o.workspace.workspaceFolders[0].uri.fsPath)}:void 0}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PROJECTS_FILE="projects.json",function(e){e[e.CommandPalette=0]="CommandPalette",e[e.SideBar=1]="SideBar",e[e.StatusBar=2]="StatusBar"}(t.CommandLocation||(t.CommandLocation={})),function(e){e.always="always",e.onlyUsingCommandPalette="onlyUsingCommandPalette",e.onlyUsingSideBar="onlyUsingSideBar",e.never="never"}(t.OpenInCurrentWindowIfEmptyMode||(t.OpenInCurrentWindowIfEmptyMode={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(4);t.buildProjectUri=function(e){return s.isRemotePath(e)?o.Uri.parse(e):o.Uri.file(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(7),i=r(28),n=r(30);t.registerWhatsNew=function(){const e=new n.WhatsNewProjectManagerContentProvider,t=new i.WhatsNewManager(s.Container.context).registerContentProvider("project-manager",e);t.showPageInActivation(),s.Container.context.subscriptions.push(o.commands.registerCommand("projectManager.whatsNew",()=>t.showPage())),s.Container.context.subscriptions.push(o.commands.registerCommand("projectManager.whatsNewContextMenu",()=>t.showPage()))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),s=r(8),i=r(0),n=r(29);t.WhatsNewManager=class{constructor(e){this.context=e}registerContentProvider(e,t){return this.extensionName=e,this.contentProvider=t,this}showPageInActivation(){this.extension=i.extensions.getExtension(`alefragnani.${this.extensionName}`);const e=this.context.globalState.get(`${this.extensionName}.version`);this.showPageIfVersionDiffers(this.extension.packageJSON.version,e)}showPage(){const e=i.window.createWebviewPanel(`${this.extensionName}.whatsNew`,`What's New in ${this.extension.packageJSON.displayName}`,i.ViewColumn.One,{enableScripts:!0}),t=i.Uri.file(o.join(this.context.extensionPath,"vscode-whats-new","ui","whats-new.html")).with({scheme:"vscode-resource"}),r=i.Uri.file(o.join(this.context.extensionPath,"vscode-whats-new","ui","main.css")).with({scheme:"vscode-resource"}),s=i.Uri.file(o.join(this.context.extensionPath,"images",`vscode-${this.extensionName.toLowerCase()}-logo-readme.png`)).with({scheme:"vscode-resource"});e.webview.html=this.getWebviewContentLocal(t.fsPath,r.toString(),s.toString())}showPageIfVersionDiffers(e,t){if(t){const r=s.diff(e,t);if(!r||"patch"===r)return}this.context.globalState.update(`${this.extensionName}.version`,e),this.showPage()}getWebviewContentLocal(e,t,r){return n.WhatsNewPageBuilder.newBuilder(e).updateExtensionDisplayName(this.extension.packageJSON.displayName).updateExtensionName(this.extensionName).updateExtensionVersion(this.extension.packageJSON.version).updateRepositoryUrl(this.extension.packageJSON.repository.url.slice(0,this.extension.packageJSON.repository.url.length-4)).updateRepositoryIssues(this.extension.packageJSON.bugs.url).updateRepositoryHomepage(this.extension.packageJSON.homepage).updateCSS(t).updateHeader(this.contentProvider.provideHeader(r)).updateChangeLog(this.contentProvider.provideChangeLog()).updateSponsors(this.contentProvider.provideSponsors()).build()}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(8),i=r(9);class n{constructor(e){this.htmlFile=o.readFileSync(e).toString()}static newBuilder(e){return new n(e)}updateExtensionDisplayName(e){return this.htmlFile=this.htmlFile.replace(/\$\{extensionDisplayName\}/g,e),this}updateExtensionName(e){return this.htmlFile=this.htmlFile.replace(/\$\{extensionName\}/g,e),this}updateExtensionVersion(e){return this.htmlFile=this.htmlFile.replace("${extensionVersion}",`${s.major(e)}.${s.minor(e)}`),this}updateRepositoryUrl(e){return this.htmlFile=this.htmlFile.replace(/\$\{repositoryUrl\}/g,e),this.repositoryUrl=e,this}updateRepositoryIssues(e){return this.htmlFile=this.htmlFile.replace("${repositoryIssues}",e),this}updateRepositoryHomepage(e){return this.htmlFile=this.htmlFile.replace("${repositoryHomepage}",e),this}updateCSS(e){return this.htmlFile=this.htmlFile.replace("${cssUrl}",e),this}updateHeader(e){return this.htmlFile=this.htmlFile.replace("${headerLogo}",e.logo.src),this.htmlFile=this.htmlFile.replace("${headerWidth}",e.logo.width.toString()),this.htmlFile=this.htmlFile.replace("${headerHeight}",e.logo.height.toString()),this.htmlFile=this.htmlFile.replace("${headerMessage}",e.message),this}updateChangeLog(e){let t="";for(const r of e)if(r.kind===i.ChangeLogKind.VERSION){const e=r.detail,o=""===t?"":"changelog__version__borders__top";t=t.concat(`<li class="changelog__version__borders ${o}">\n                        <span class="changelog__badge changelog__badge--version">${e.releaseNumber}</span>\n                        <span class="uppercase bold">${e.releaseDate}</span>\n                    </li>`)}else{const e=this.getBadgeFromChangeLogKind(r.kind),o=r.detail;let s;s=o.kind===i.IssueKind.Issue?`${o.message}\n                        (<a title="Open Issue #${o.id}" \n                        href="${this.repositoryUrl}/issues/${o.id}">Issue #${o.id}</a>)`:`${o.message}\n                        (Thanks to ${o.kudos} - <a title="Open PR #${o.id}" \n                        href="${this.repositoryUrl}/pull/${o.id}">PR #${o.id}</a>)`,t=t.concat(`<li><span class="changelog__badge changelog__badge--${e}">${r.kind}</span>\n                        ${s}\n                    </li>`)}return this.htmlFile=this.htmlFile.replace("${changeLog}",t),this}updateSponsors(e){if(0===e.length)return this.htmlFile=this.htmlFile.replace("${sponsors}",""),this;let t="<p>\n          <h2>Sponsors</h2>";for(const r of e)t=t.concat(`<a title="${r.title}" href="${r.link}">\n                    <img src="${r.image}" width="${r.width}%"/>\n                </a>\n                ${r.message} \n                ${r.extra}`);return t=t.concat("</p>"),this.htmlFile=this.htmlFile.replace("${sponsors}",t),this}build(){return this.htmlFile.toString()}getBadgeFromChangeLogKind(e){switch(e){case i.ChangeLogKind.NEW:return"added";case i.ChangeLogKind.CHANGED:return"changed";case i.ChangeLogKind.FIXED:return"fixed";case i.ChangeLogKind.INTERNAL:return"internal"}}}t.WhatsNewPageBuilder=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const o=r(9);t.WhatsNewProjectManagerContentProvider=class{provideHeader(e){return{logo:{src:e,height:50,width:50},message:"<b>Project Manager</b> helps you to easily access your <b>projects</b>,\n            no matter where they are located. <i>Don't miss that important projects anymore</i>.\n            <br><br>You can define your own <b>Projects</b> (also called <b>Favorites</b>), or choose \n            for auto-detect <b>Git</b>, <b>Mercurial</b> or <b>SVN</b> repositories, <b>VSCode</b> \n            folders or <b>any</b> other folder."}}provideChangeLog(){const e=[];return e.push({kind:o.ChangeLogKind.VERSION,detail:{releaseNumber:"11.0.1",releaseDate:"May 2020"}}),e.push({kind:o.ChangeLogKind.FIXED,detail:{message:"Path does not exists for SSH remote project",id:375,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.FIXED,detail:{message:"<b>Open</b> command in Side Bar's context menu does not work",id:376,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.FIXED,detail:{message:"Path does not exists for Docker remote project on Windows",id:377,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.VERSION,detail:{releaseNumber:"11.0.0",releaseDate:"May 2020"}}),e.push({kind:o.ChangeLogKind.NEW,detail:{message:"Support open <b>Remote Projects</b>",id:345,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.NEW,detail:{message:"<b>Side bar</b> welcome message",id:353,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.INTERNAL,detail:{message:"Remove <b>vscode</b> module dependency",id:369,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.VERSION,detail:{releaseNumber:"10.12.0",releaseDate:"April 2020"}}),e.push({kind:o.ChangeLogKind.NEW,detail:{message:"Setting to choose how <b>Open in New Window</b> command work on empty windows",id:188,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.FIXED,detail:{message:"Typo in README",id:348,kind:o.IssueKind.PR,kudos:"@1st"}}),e.push({kind:o.ChangeLogKind.FIXED,detail:{message:"Typo in README",id:337,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.INTERNAL,detail:{message:"Support VS Code package split",id:361,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.INTERNAL,detail:{message:"Support VS Code Extension view Context Menu",id:327,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.VERSION,detail:{releaseNumber:"11.11.0",releaseDate:"March 2020"}}),e.push({kind:o.ChangeLogKind.NEW,detail:{message:"Increase <b>Remote Development</b> support",id:323,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.NEW,detail:{message:"<b>Add Project to Workspace</b> command in Command Palette",id:283,kind:o.IssueKind.Issue}}),e.push({kind:o.ChangeLogKind.INTERNAL,detail:{message:"Support <b>ThemeIcon</b>",id:326,kind:o.IssueKind.Issue}}),e}provideSponsors(){const e=[],t={title:"Try Codestream",link:"https://sponsorlink.codestream.com/?utm_source=vscmarket&utm_campaign=projectmanager&utm_medium=banner",image:"https://alt-images.codestream.com/codestream_logo_projectmanager.png",width:35,message:"<p>Discussing code is now as easy as highlighting a block and typing a comment right \n                      from your IDE. Take the pain out of code reviews and improve code quality.</p>",extra:'<a title="Try CodeStream" href="https://sponsorlink.codestream.com/?utm_source=vscmarket&utm_campaign=projectmanager&utm_medium=banner">\n                 Try it free</a>'};return e.push(t),e}}}]);
//# sourceMappingURL=extension.js.map