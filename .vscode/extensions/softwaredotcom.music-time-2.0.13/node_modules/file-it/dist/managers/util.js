"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cleanJsonString = exports.jsonStringify = void 0;
/**
 * Stringify the object and replace newlines with EOL
 * @param obj
 * @param options
 */
function jsonStringify(obj, options) {
    if (options === void 0) { options = {}; }
    var EOL = options.EOL || "\n";
    var str = JSON.stringify(obj, null, options.spaces);
    return str.replace(/\n/g, EOL) + EOL;
}
exports.jsonStringify = jsonStringify;
/**
 * Replace the Byte Order Mark
 * @param content
 */
function cleanJsonString(content) {
    // we do this because JSON.parse would convert it to a utf8 string if encoding wasn't specified
    if (Buffer.isBuffer(content)) {
        content = content.toString("utf8");
    }
    return content
        .replace(/^\uFEFF/, "")
        .replace(/\r\n/g, "")
        .replace(/\n/g, "");
}
exports.cleanJsonString = cleanJsonString;
